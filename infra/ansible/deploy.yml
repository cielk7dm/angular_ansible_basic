---
- hosts: all
  tasks:
    - name: Pull Docker image
      command: docker pull ghcr.io/cielk7dm/angular_ansible_basic/demo-app:latest

    - name: Stop existing container
      command: docker stop demo-app || true
    
    - name: Remove existing container
      command: docker rm demo-app || true
    
    - name: Run new container
      command: >
        docker run -d --name demo-app -p 80:4200
        ghcr.io/cielk7dm/angular_ansible_basic/demo-app:latest
